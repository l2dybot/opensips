log_level = 3
log_stderror = yes

#memdump = 2
udp_workers = 4

auto_aliases = no
enable_asserts = true
abort_on_assert = true
max_while_loops = 10000

listen = udp:localhost:5059

####### Modules Section ########

mpath = "modules/"

loadmodule "proto_udp.so"
loadmodule "mi_fifo.so"

################################

loadmodule "tm.so"
loadmodule "signaling.so"
loadmodule "registrar.so"

modparam("registrar", "pn_enable", true)
modparam("registrar", "pn_providers", "fcm, apns")
modparam("registrar", "pn_ct_match_params", "pn-provider, pn-prid, pn-param")
modparam("registrar", "pn_trigger_interval", 50)

loadmodule "usrloc.so"
modparam("usrloc", "contact_refresh_timer", true)

route {
	/* pre-register the 'location' udomain (must be done at mod_init()) */
	save("location");
}
